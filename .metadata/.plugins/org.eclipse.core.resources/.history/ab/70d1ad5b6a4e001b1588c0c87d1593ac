package JAVA_02_last;

import java.util.Random;

import javax.swing.ImageIcon;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class Money extends Thread {
	int x, y;
	JLabel label;
	Character c;
	JPanel panel;

	Money(int x, int y, JPanel panel, Character c) {
		this.x = x;
		this.y = y;
		this.c = c;
		label = new JLabel(new ImageIcon("money.png"));
		label.setBounds(x, y, 30, 30);
		this.panel=panel;
		panel.add(label);
	}

	public int getX() {
		return x;
	}

	public synchronized void setX(int x) {
		this.x = x;
	}

	public int getY() {
		return y;
	}

	public synchronized void setY(int y) {
		this.y = y;
	}

	public synchronized void move() {
		label.setBounds(x, y, 30, 30);
	}

	public void run() {
		Random r = new Random();
		while (true) {
			y += (r.nextInt(4) + 1) * 10;
			move();
			if (590 >= y && y >= 550 && c.getX() - 30 <= x && x <= c.getX() + 30) {
				System.out.println(x+" "+y+" "+c.getX());
				c.setScore(c.getScore() + 1);
				System.out.println("getScore");
				label=null;
				try {
					this.wait();
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			} else if (y > 620) {
				System.out.println("Miss");
				label=null;
				try {
					this.wait();
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			} else {
				try {
					this.sleep(250);
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
		}
	}
}
